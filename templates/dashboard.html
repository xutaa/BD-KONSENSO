<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - BD Konsenso</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body>
    <!-- Barra de NavegaÃ§Ã£o -->
    <div class="navbar">
        <h1>ğŸ¢ BD Konsenso - Sistema de GestÃ£o</h1>
        <div class="navbar-right">
            <span>ğŸ‘¤ OlÃ¡, <strong>{{ usuario }}</strong> 
                {% if tipo_admin == 'Loja' %}
                    <span style="background: #2196F3; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">ğŸª Loja</span>
                {% elif tipo_admin == 'Fabrica' %}
                    <span style="background: #FF9800; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">ğŸ­ FÃ¡brica</span>
                {% else %}
                    <span style="background: #4CAF50; padding: 2px 8px; border-radius: 4px; font-size: 0.8em;">âš™ï¸ Geral</span>
                {% endif %}
            </span>
            <a href="{{ url_for('logout') }}" class="btn-logout">Sair</a>
        </div>
    </div>

    <!-- ConteÃºdo Principal -->
    <div class="container">
        <!-- Card de Boas-Vindas -->
        <div class="welcome-card">
            <h2>ğŸ“Š Estado do Projeto</h2>
            <ul class="status-list">
                {% for fase, status in roadmap.items() %}
                    <li><strong>{{ fase }}:</strong> {{ status }}</li>
                {% endfor %}
            </ul>
        </div>

        <!-- GestÃ£o Principal -->
        {% if permissoes.gestao_principal %}
        <h2 class="section-title">ğŸ“¦ GestÃ£o Principal</h2>
        <div class="grid">
            <div class="card">
                <a href="{{ url_for('lista_produtos') }}">
                    <div class="card-icon">ğŸ“¦</div>
                    <h3>Produtos</h3>
                    <p>Gerir catÃ¡logo de produtos</p>
                </a>
            </div>

            {% if tipo_admin != 'Fabrica' %}
            <div class="card">
                <a href="{{ url_for('lista_vendas') }}">
                    <div class="card-icon">ğŸ’°</div>
                    <h3>Vendas</h3>
                    <p>HistÃ³rico de vendas</p>
                </a>
            </div>
            {% endif %}

            <div class="card">
                <a href="{{ url_for('lista_stock') }}">
                    <div class="card-icon">ğŸ“Š</div>
                    <h3>Stock</h3>
                    <p>Controlo de inventÃ¡rio</p>
                </a>
            </div>

            {% if tipo_admin != 'Fabrica' %}
            <div class="card">
                <a href="{{ url_for('lista_itens') }}">
                    <div class="card-icon">ğŸ§¾</div>
                    <h3>Itens de Venda</h3>
                    <p>Detalhes de vendas</p>
                </a>
            </div>
            {% endif %}
        </div>
        {% endif %}

        <!-- Pessoas e Clientes -->
        {% if permissoes.pessoas_clientes %}
        <h2 class="section-title">ğŸ‘¥ Pessoas e Clientes</h2>
        <div class="grid">
            <div class="card">
                <a href="{{ url_for('lista_clientes') }}">
                    <div class="card-icon">ğŸ‘¥</div>
                    <h3>Clientes</h3>
                    <p>Base de dados de clientes</p>
                </a>
            </div>

            <div class="card">
                <a href="{{ url_for('lista_vendedores') }}">
                    <div class="card-icon">ğŸ’¼</div>
                    <h3>Vendedores</h3>
                    <p>Equipa de vendas</p>
                </a>
            </div>

            {% if tipo_admin == 'Geral' %}
            <div class="card">
                <a href="{{ url_for('lista_funcionarios') }}">
                    <div class="card-icon">ğŸ‘”</div>
                    <h3>FuncionÃ¡rios</h3>
                    <p>Recursos humanos</p>
                </a>
            </div>

            <div class="card">
                <a href="{{ url_for('lista_cargos') }}">
                    <div class="card-icon">ğŸ–ï¸</div>
                    <h3>Cargos</h3>
                    <p>FunÃ§Ãµes e cargos</p>
                </a>
            </div>

            <div class="card">
                <a href="{{ url_for('lista_contratos_vendedor') }}">
                    <div class="card-icon">ğŸ“</div>
                    <h3>Contratos Vendedor</h3>
                    <p>Contratos de vendedores</p>
                </a>
            </div>
            {% endif %}
        </div>
        {% endif %}

        <!-- Empresas e OrganizaÃ§Ãµes -->
        {% if permissoes.empresas %}
        <h2 class="section-title">ğŸ¢ Empresas e OrganizaÃ§Ãµes</h2>
        <div class="grid">
            {% if tipo_admin == 'Geral' %}
            <div class="card">
                <a href="{{ url_for('lista_empresas') }}">
                    <div class="card-icon">ğŸ¢</div>
                    <h3>Empresas</h3>
                    <p>Empresas registadas</p>
                </a>
            </div>
            {% endif %}

            <div class="card">
                <a href="{{ url_for('lista_fornecedores') }}">
                    <div class="card-icon">ğŸšš</div>
                    <h3>Fornecedores</h3>
                    <p>Rede de fornecedores</p>
                </a>
            </div>

            {% if tipo_admin == 'Geral' %}
            <div class="card">
                <a href="{{ url_for('lista_distribuidoras') }}">
                    <div class="card-icon">ğŸš›</div>
                    <h3>Distribuidoras</h3>
                    <p>Centros de distribuiÃ§Ã£o</p>
                </a>
            </div>

            <div class="card">
                <a href="{{ url_for('lista_distribuidoras_armazem') }}">
                    <div class="card-icon">ğŸ”—</div>
                    <h3>Distribuidoras-ArmazÃ©m</h3>
                    <p>RelaÃ§Ã£o dist./armazÃ©m</p>
                </a>
            </div>
            {% endif %}
        </div>
        {% endif %}

        <!-- Infraestrutura -->
        {% if permissoes.infraestrutura %}
        <h2 class="section-title">ğŸ­ Infraestrutura</h2>
        <div class="grid">
            <div class="card">
                <a href="{{ url_for('lista_armazens') }}">
                    <div class="card-icon">ğŸ­</div>
                    <h3>ArmazÃ©ns</h3>
                    <p>GestÃ£o de armazÃ©ns</p>
                </a>
            </div>

            {% if tipo_admin == 'Geral' %}
            <div class="card">
                <a href="{{ url_for('lista_lojas') }}">
                    <div class="card-icon">ğŸª</div>
                    <h3>Lojas</h3>
                    <p>Pontos de venda</p>
                </a>
            </div>

            <div class="card">
                <a href="{{ url_for('lista_fabricas') }}">
                    <div class="card-icon">ğŸ—ï¸</div>
                    <h3>FÃ¡bricas</h3>
                    <p>Unidades de produÃ§Ã£o</p>
                </a>
            </div>
            {% endif %}

            <div class="card">
                <a href="{{ url_for('lista_maquinas') }}">
                    <div class="card-icon">âš™ï¸</div>
                    <h3>MÃ¡quinas</h3>
                    <p>Equipamentos industriais</p>
                </a>
            </div>
        </div>
        {% endif %}

        <!-- ProduÃ§Ã£o -->
        {% if permissoes.producao %}
        <h2 class="section-title">ğŸ”§ ProduÃ§Ã£o e Materiais</h2>
        <div class="grid">
            <div class="card">
                <a href="{{ url_for('lista_materias_primas') }}">
                    <div class="card-icon">ğŸ§±</div>
                    <h3>MatÃ©rias-Primas</h3>
                    <p>Materiais de produÃ§Ã£o</p>
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</body>
</html>